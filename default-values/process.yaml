# Ensure this remains the same as the deployment's name.
name: example-deployment

process:
  # Change this if you need to use a different image.
  image: alpine

  # Optional ENV variables.
  env:
    - name: EXAMPLE
      value: "TRUE"

# File server configuration - serves files via HTTPS
fileServer:
  # Enable HTTP file server for this deployment
  enabled: false
  
  # Port for the file server (default: 8080)
  port: 8080
  
  # Maximum file upload/download size (nginx limit)
  maxFileSize: "100m"
  
  # When enabled, provides FILE_SERVER_URL_TEMPLATE environment variable in pod:
  # FILE_SERVER_URL_TEMPLATE="https://files.wiji.dev/deployment-name/{filepath}?pod=${HOSTNAME}"
  #
  # Usage in pod:
  #   # Replace {filepath} with actual file path
  #   WORLD_URL="${FILE_SERVER_URL_TEMPLATE/\{filepath\}/world.zip}"
  #   # Results in: https://files.wiji.dev/deployment-name/world.zip?pod=pod-abc123
  #
  # Examples:
  #   CONFIG_URL="${FILE_SERVER_URL_TEMPLATE/\{filepath\}/plugins/config.yml}"
  #   MAP_URL="${FILE_SERVER_URL_TEMPLATE/\{filepath\}/worlds/world_nether.zip}"


volume:
  # The directory to pull the server's data from. By default this is set to the folder that is automatically created for the deployment.
  dataDirectory: "temp"

  # Where the contents of the aformentioned data directory is copied to internally. There is no real reason to change this.
  mountPath: /minecraft


# Set recource limits per instance. "Mi" refers to megabytes, and "m" refers to micro-cpus.
resources:
  requests:
    memory: 0Mi
    cpu: 0m
  limits:
    memory: 0Mi
    cpu: 0m