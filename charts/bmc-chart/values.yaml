# BMC (Big Minecraft) Chart Default Values
#
# This file contains safe defaults only.
# DO NOT add secrets or environment-specific values here.
#
# For installation:
#   1. Copy values.example.yaml to values.custom.yaml
#   2. Edit values.custom.yaml with your configuration
#   3. Run 'task secrets:generate' to create Kubernetes secrets
#   4. Run 'task install' to deploy

global:
  environment: production

  # Dependency installation flags
  # These are auto-detected by scripts/detect-dependencies.sh
  # Override in values.custom.yaml if needed
  dependencies:
    installCertManager: false
    installMetalLB: false
    installTraefik: false

  certManager:
    installClusterIssuer: false
    clusterIssuerName: "letsencrypt-prod"
    # Email must be set in values.custom.yaml
    email: ""

  panel:
    # Secrets are stored in Kubernetes secret 'bmc-secrets'
    # Domains must be set in values.custom.yaml
    panelHost: ""
    k8sDashboardHost: ""
    storagePath: /storage
    inviteCodeExpiryDays: 7

  loadBalancer:
    provider: metallb

    metallb:
      # IP configuration must be set in values.custom.yaml
      entrypointIP: ""
      installResources: false
      ipAddressPool: []
      advertisementMode: l2

  ingress:
    ingressClass: "traefik"
    # Domain must be set in values.custom.yaml
    panelDomain: ""

  storage:
    # Must support ReadWriteMany Access Mode
    storageClass: "longhorn"
    reclaimPolicy: "Retain"
    volumeSize:
      persistent: "10Gi"
      scalable: "5Gi"
      proxy: "5Gi"
      process: "2Gi"
      manifests: "1Gi"
      mariaDB: "5Gi"
      mongoDB: "5Gi"

  redis:
    host: "redis-service"
    port: 6379

  mariaDB:
    host: mariadb-service
    port: 3306
    username: root
    database: bmc
    # Password stored in secret 'bmc-secrets' key 'mariadb-root-password'

  mongoDB:
    host: mongodb-service
    port: 27017
    username: admin
    database: admin
    # Password stored in secret 'bmc-secrets' key 'mongodb-root-password'

  prometheus:
    host: prometheus-service
    port: 9090

  sftp:
    # Password stored in secret 'bmc-secrets' key 'sftp-password'
    enabled: true

  fileEditSession:
    timeoutMinutes: 15
